<% layout("../layouts/boilerplate")%>
<body><br>

<div class="profile-wrapper">
  <div class="card profile-card mb-4">
    <div class="row g-0">

      <!-- LEFT : IMAGE + MESSAGE -->
      <div class="col-md-4 profile-left">
        <img src="<%= user.profileImage %>" class="profile-img" alt="Profile Image">

        <div class="profile-message">
          <% if (user.role === "customer") { %>
            <p>
              At <b>Buy & Sell</b>, our customers are at the heart of everything we do.
              Thank you for trusting us and being part of our growing community üíô
            </p>
          <% } %>

          <% if (user.role === "merchant") { %>
            <p>
              Dear <b>Merchant</b>, you are the backbone of <b>Buy & Sell</b>.
              Thank you for growing your business with us and empowering our marketplace üöÄ
            </p>
          <% } %>
        </div>
      </div>

      <!-- RIGHT : DETAILS -->
      <div class="col-md-8">
        <div class="card-body profile-body">

          <!-- Edit Icon -->
          <a href="/buyandsell/postlogin/updateprofile" class="edit-profile">
            ‚úèÔ∏è
          </a>

          <h2 class="profile-name"><%= user.name %></h2>
          <p class="profile-email"><%= user.email %></p>

          <hr>

          <div class="profile-info">
            <p><strong>Account Type:</strong> <span class="badge bg-info text-dark"><%= user.role %></span></p>
            <p><strong>Gender:</strong> <%= user.gender %></p>
            <p><strong>Phone:</strong> <%= user.contact.phone %></p>
          </div>

          <hr>

          <div class="profile-address">
            <p><strong>Address:</strong></p>
            <p><%= user.contact.address %>, <%= user.contact.city %></p>
            <p><%= user.contact.state %> - <%= user.contact.pincode %></p>
          </div>

          <hr>

          <p class="joined">
            <strong>Joined:</strong> <%= user.joinedAt %>
          </p>

          <a href="/buyandsell/postlogin/signout" class="btn btn-outline-danger logout-btn">
            Sign Out üëã
          </a>

        </div>
      </div>

    </div>
  </div>
</div>

<style>
  .profile-wrapper {
  max-width: 900px;
  margin: 30px auto;
  padding: 0 15px;
}

.profile-card {
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

/* Left Section */
.profile-left {
  background: linear-gradient(180deg, #111, #222);
  color: #fff;
  text-align: center;
  padding: 20px;
}

.profile-img {
  width: 100%;
  max-height: 280px;
  object-fit: cover;
  border-radius: 12px;
  border: 3px solid #fff;
}

.profile-message {
  margin-top: 15px;
  font-size: 0.9rem;
  line-height: 1.5;
}

/* Right Section */
.profile-body {
  padding: 30px;
  position: relative;
}

.edit-profile {
  position: absolute;
  top: 15px;
  right: 15px;
  text-decoration: none;
  font-size: 1.2rem;
}

.profile-name {
  text-align: center;
  font-weight: 700;
  color: #1a73e8;
}

.profile-email {
  text-align: center;
  color: #666;
  font-style: italic;
}

.profile-info p,
.profile-address p {
  margin-bottom: 6px;
}

.joined {
  color: #555;
}

.logout-btn {
  float: right;
  margin-top: 10px;
  border-radius: 25px;
  padding: 6px 18px;
}

/* Responsive */
@media (max-width: 768px) {
  .profile-img {
    max-height: 220px;
  }

  .logout-btn {
    float: none;
    width: 100%;
    margin-top: 15px;
  }
}
</style>

</body>